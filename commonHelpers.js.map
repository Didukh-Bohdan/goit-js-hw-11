{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["// const API_KEY = '42306432-61ab7fb6a7e28dda5f126fb86';\n\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst apiKey = '42306432-61ab7fb6a7e28dda5f126fb86';\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\nconst loader = document.getElementById('loader');\nconst gallery = document.getElementById('gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nsearchForm.addEventListener('submit', function (e) {\n    e.preventDefault();\n    const searchTerm = searchInput.value.trim();\n\n    if (searchTerm === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term'\n        });\n        return;\n    }\n\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n    // Make API \n    fetch(`https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(response => response.json())\n        .then(data => {\n            loader.style.display = 'none';\n\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    title: 'Info',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n                return;\n            }\n\n            data.hits.forEach(image => {\n                const card = document.createElement('div');\n                card.classList.add('card');\n                card.innerHTML = `\n                    <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n                        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                    </a>\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                `;\n                gallery.appendChild(card);\n            });\n\n            // Refresh the lightbox \n            lightbox.refresh();\n        })\n        .catch(error => {\n            loader.style.display = 'none';\n            console.error('Error fetching data:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching data. Please try again.'\n            });\n        });\n});"],"names":["apiKey","searchForm","searchInput","loader","gallery","lightbox","SimpleLightbox","e","searchTerm","iziToast","response","data","image","card","error"],"mappings":"6vBAOA,MAAMA,EAAS,qCACTC,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEhDL,EAAW,iBAAiB,SAAU,SAAUM,EAAG,CAC/CA,EAAE,eAAc,EAChB,MAAMC,EAAaN,EAAY,MAAM,KAAI,EAEzC,GAAIM,IAAe,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4BACrB,CAAS,EACD,MACH,CAEDN,EAAO,MAAM,QAAU,QACvBC,EAAQ,UAAY,GAGpB,MAAM,gCAAgCJ,CAAM,MAAMQ,CAAU,0DAA0D,EACjH,KAAKE,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CAGV,GAFAR,EAAO,MAAM,QAAU,OAEnBQ,EAAK,KAAK,SAAW,EAAG,CACxBF,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EAC7B,CAAiB,EACD,MACH,CAEDE,EAAK,KAAK,QAAQC,GAAS,CACvB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,UAAY;AAAA,+BACFD,EAAM,aAAa;AAAA,oCACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,gCAE1CA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA,kBAEnCR,EAAQ,YAAYS,CAAI,CACxC,CAAa,EAGDR,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMS,GAAS,CACZX,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAM,uBAAwBW,CAAK,EAC3CL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0DACzB,CAAa,CACb,CAAS,CACT,CAAC"}